{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["const textInput = document.getElementById('textInput');\nconst submitButton = document.getElementById('submitButton');\nconst textDisplay = document.getElementById('textDisplay');\n\nlet isSelecting = false;\nlet selectionBox = null;\nlet startX = 0;\nlet startY = 0;\n\nsubmitButton.addEventListener('click', () => {\n  const text = textInput.value.trim();\n  textDisplay.innerHTML = '';\n\n  text.split('').forEach(char => {\n    const span = createCharacterSpan(char);\n    textDisplay.appendChild(span);\n  });\n});\n\nfunction createCharacterSpan(char) {\n  const span = document.createElement('span');\n  span.textContent = char;\n  span.setAttribute('draggable', true);\n  span.classList.add('char');\n\n  span.addEventListener('click', handleHighlight);\n  span.addEventListener('dragstart', handleDragStart);\n  span.addEventListener('dragend', handleDragEnd);\n\n  return span;\n}\n\nfunction handleHighlight(e) {\n  if (e.ctrlKey) {\n    e.target.classList.toggle('highlight');\n  }\n}\n\nlet draggedChars = [];\nfunction handleDragStart(e) {\n  draggedChars = getSelectedCharacters(e.target);\n}\n\nfunction handleDragEnd(e) {\n  const mouseX = e.pageX;\n  const mouseY = e.pageY;\n\n  draggedChars.forEach((char, index) => {\n    char.style.position = 'absolute';\n    char.style.left = `${mouseX + index * 20}px`;\n    char.style.top = `${mouseY}px`;\n    document.body.appendChild(char);\n    char.classList.remove('highlight');\n  });\n\n  draggedChars = [];\n}\n\nfunction getSelectedCharacters(span) {\n  const selected = [...document.querySelectorAll('.highlight')];\n  return span.classList.contains('highlight') ? selected : [span];\n}\n\ntextDisplay.addEventListener('mousedown', e => {\n  if (e.target === textDisplay) {\n    isSelecting = true;\n    startX = e.clientX;\n    startY = e.clientY;\n\n    selectionBox = createSelectionBox();\n    document.body.appendChild(selectionBox);\n  }\n});\n\nfunction createSelectionBox() {\n  const box = document.createElement('div');\n  box.classList.add('selection-box');\n  box.style.left = `${startX}px`;\n  box.style.top = `${startY}px`;\n  return box;\n}\n\ndocument.addEventListener('mousemove', e => {\n  if (isSelecting) {\n    const currentX = e.clientX;\n    const currentY = e.clientY;\n\n    selectionBox.style.left = `${Math.min(startX, currentX)}px`;\n    selectionBox.style.top = `${Math.min(startY, currentY)}px`;\n    selectionBox.style.width = `${Math.abs(currentX - startX)}px`;\n    selectionBox.style.height = `${Math.abs(currentY - startY)}px`;\n  }\n});\n\ndocument.addEventListener('mouseup', e => {\n  if (isSelecting) {\n    isSelecting = false;\n\n    const rect = selectionBox.getBoundingClientRect();\n\n    document.querySelectorAll('.char').forEach(span => {\n      const spanRect = span.getBoundingClientRect();\n      if (isIntersecting(rect, spanRect)) {\n        span.classList.add('highlight');\n      }\n    });\n\n    selectionBox.remove();\n    selectionBox = null;\n  }\n});\n\nfunction isIntersecting(rect1, rect2) {\n  return (\n    rect1.left < rect2.right &&\n    rect1.right > rect2.left &&\n    rect1.top < rect2.bottom &&\n    rect1.bottom > rect2.top\n  );\n}\n"],"names":["textInput","submitButton","textDisplay","isSelecting","selectionBox","startX","startY","text","char","span","createCharacterSpan","handleHighlight","handleDragStart","handleDragEnd","e","draggedChars","getSelectedCharacters","mouseX","mouseY","index","selected","createSelectionBox","box","currentX","currentY","rect","spanRect","isIntersecting","rect1","rect2"],"mappings":"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"}