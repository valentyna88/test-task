(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const p=document.getElementById("textInput"),h=document.getElementById("submitButton"),s=document.getElementById("textDisplay");let l=!1,c=null,d=0,u=0;h.addEventListener("click",()=>{const t=p.value.trim();s.innerHTML="",t.split("").forEach(e=>{const o=f(e);s.appendChild(o)})});function f(t){const e=document.createElement("span");return e.textContent=t,e.setAttribute("draggable",!0),e.classList.add("char"),e.addEventListener("click",m),e.addEventListener("dragstart",y),e.addEventListener("dragover",o=>o.preventDefault()),e.addEventListener("drop",b),e}function m(t){t.ctrlKey&&t.target.classList.toggle("highlight")}function y(t){const o=x(t.target).map(i=>[...s.children].indexOf(i));t.dataTransfer.setData("text/plain",JSON.stringify(o))}function x(t){const e=[...document.querySelectorAll(".highlight")];return t.classList.contains("highlight")?e:[t]}function b(t){t.preventDefault();const e=JSON.parse(t.dataTransfer.getData("text/plain")),o=[...s.children].indexOf(t.target);if(o===-1)return;const i=[...s.children],r=e.map(n=>i[n].textContent);if(e.sort((n,a)=>a-n).forEach(n=>i[n].remove()),r.forEach((n,a)=>{const g=f(n);a===0?t.target.insertAdjacentElement("beforebegin",g):s.insertBefore(g,t.target)}),e[0]<o){const n=f(t.target.textContent);t.target.remove(),s.insertBefore(n,s.children[e[0]])}}s.addEventListener("mousedown",t=>{t.target===s&&(l=!0,d=t.clientX,u=t.clientY,c=v(),document.body.appendChild(c))});function v(){const t=document.createElement("div");return t.style.position="absolute",t.style.border="1px dashed #000",t.style.backgroundColor="rgba(0, 0, 255, 0.2)",t.style.left=`${d}px`,t.style.top=`${u}px`,t}document.addEventListener("mousemove",t=>{if(l){const e=t.clientX,o=t.clientY;c.style.left=`${Math.min(d,e)}px`,c.style.top=`${Math.min(u,o)}px`,c.style.width=`${Math.abs(e-d)}px`,c.style.height=`${Math.abs(o-u)}px`}});document.addEventListener("mouseup",t=>{if(l){l=!1;const e=c.getBoundingClientRect();document.querySelectorAll(".char").forEach(o=>{const i=o.getBoundingClientRect();E(e,i)&&o.classList.add("highlight")}),c.remove(),c=null}});function E(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}
//# sourceMappingURL=index.js.map
